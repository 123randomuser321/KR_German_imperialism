### Decisions for 'Kaiserreich SubMod - German Imperialism'
### by MEEEB
### v1 rev4.1
### targeted decision broke
### typos
### available --> visible
### fixed support equipment
### WALLONIA ISSUE ONLY WORKS IF YOU ALLOW MAJOR NEWS EVENTS ###


### the equipment ratios are subject to change

### german_imperialism

german_imperialism = {
	
#	GER_establish_military_assistance = { # unlocks decisions for military support re subjects
#	
#	visible = {
#	has_equipment = {
#	infantry_equipment_0 > 1000
#	}
#	}
#	
#	cost = 100 # subject to change
#
#	fire_only_once = yes
#	days_remove = 28 # arbitrary number, may change
#
#	remove_effect = {
#	set_country_flag = GER_military_aid_program # note to self: GEA, MAF and AOG should not be eligible, since they are technically part of the German state/economy, so they will be handled in another way
#	}
#	}


	GER_hijack_industrial_recovery = {

	visible = {
	has_global_flag = black_monday
	OR = {
	has_idea = GER_black_monday
	has_idea = GER_black_monday1
	has_idea = GER_black_monday2
	}
	}

	cost = 50 # I will get back to this

	fire_only_once = yes

	days_remove = 4 # If Sarazzin can work out an economic union in four days we can too

	remove_effect = {
	hidden_effect = { set_country_flag = GER_industrial_rec_plan }
	}
	}


#	GER_establish_industrial_assistance = {
#
#	visible = {
#	has_global_flag = black_monday
#	NOT = {
#	has_idea = GER_black_monday
#	has_idea = GER_black_monday1
#	has_idea = GER_black_monday2
#	}
#	}
#
#	cost = 10 # subject to change
#
#	fire_only_once = yes
#
#	complete_effect = {
#	set_global_flag = GER_industrial_support
#	}
#	}
}

### german_imperialism end


### temporary post Black Week recovery

german_industrial_rec = {
	
	ger_reassure_banks = { # tell the banks that everything is fine

	fire_only_once = yes

	days_remove = 3

	modifier = {
	political_power_gain = -0.05
	}

	remove_effect = {
	add_political_power = 50
	add_stability = 0.05
	}
	}


	ger_analyze_sub_economy = {

	fire_only_once = yes

	target_trigger = {
	FROM = {
	is_subject_of = GER
	NOT = {
	tag = MAF # these are all
	tag = GEA # technically part of
	tag = AOG # the German state
	}
	}
	}

	cost = 5

	modifier = {
	political_power_gain = -0.01 # prone to change
	}

	days_remove = 7

	complete_effect = {
	FROM = { 
	country_event = gerimperialism.7 # probed tag gets a notification
	hidden_effect = { set_country_flag = GER_analyzed_economy } # for later
	}
	}

	remove_effect = {
	FROM = { hidden_effect = { set_country_flag = GER_analyzed_economy_finished } }
	}
	}

	ger_exploit_sub_civ_economy = {

	fire_only_once = yes

	visible = {
	NOT = { has_country_flag = GER_currently_exploiting }
	}

	target_trigger = {
	FROM = {
	is_subject_of = GER
	NOT = {
	tag = MAF
	tag = GEA
	tag = AOG
	}
	has_country_flag = GER_analyzed_economy_finished
	}
	}

	days_remove = 14

	complete_effect = {
	FROM = { country_event = gerimperialism.8 } # initial outrage
	hidden_effect = { set_country_flag = GER_currently_exploiting } # do not overuse the decision
	}

	remove_effect = {
	FROM = { country_event = gerimperialism.9 } # further outrage
	hidden_effect = { clr_country_flag = GER_currently_exploiting }
	}
	}
}

### industrial recovery end


### specific German subjects (sorted by tag)

### BEL

german_BEL = { # decisions for GER
	
	fate_of_german_wallonia = { # what do, after WK2

	visible = {
	owns_state = 741 # German Wallonia
	owns_state = 8 # Luxemburg
	NOT = { has_war = yes } # do not do territorial transfers amidst war
	has_global_flag = war_is_hell # is set by the Second Weltkrieg news event, I have yet to find something better
	}

	fire_only_once = yes

	complete_effect = {
	country_event = gerimperialism.300
	}
	}


	prep_integration_741 = { # prepare integration
	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = GER_kept_741 # set by gerimperialism.300
	}

	fire_only_once = yes

	days_remove = 7 # a week

	modifier = {
	political_power_gain = -0.25
	}

	remove_effect = {
	hidden_effect = {
	set_country_flag = GER_741_started
	set_country_flag = {
	flag = GER_741_integration # fill this and core it
	value = 0
	}
	}
	}
	}


	luxemburg_claims_741 = { # Charlotte wants it

	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = GER_741_started
	}

	cost = 10

	fire_only_once = yes

	complete_effect = {
	country_event = gerimperialism.302 # Luxemburg claim event
	}
	}


	luxemburg_elite_741 = { # nobles and businessmen from Luxemburg are granted land et al

	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = GER_741_claims_done # from gerimperialism.303
	}

	cost = 10

	fire_only_once = yes

	remove_effect = {
	hidden_effect = {
	set_country_flag = LUX_741_elite_settled
	modify_country_flag = {
	flag = GER_741_integration
	value = 2
	}
	}
	}

	days_remove = 56 # 8 weeks

	modifier = {
	political_power_gain = -0.05
	}
	}


	german_elite_741 = { # German nobles move in (companies are already there)

	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = GER_741_claims_done # from gerimperialism.303
	}

	cost = 10

	fire_only_once = yes

	remove_effect = {
	hidden_effect = {
	set_country_flag = GER_741_elite_settled
	modify_country_flag = {
	flag = GER_741_integration
	value = 1
	}
	}
	}

	days_remove = 84 # 12 weeks, longer since you are the oppressor

	modifier = {
	political_power_gain = -0.5
	}
	}


	public_schools_741_ger1 = { # Make German a secondary language in public schools

	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = GER_741_elite_settled
	}

	cost = 20

	fire_only_once = yes

	complete_effect = {
	country_event = gerimperialism.304 # flavor, some explanation
	}

	remove_effect = {
	hidden_effect = { set_country_flag = public_schools_741_partial_german }
	}

	days_remove = 250 # arbitrary

	modifier = {
	political_power_gain = -0.25
	}
	}


	public_schools_741_ger2 = { # require most academic matters to be handled in German

	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = public_schools_741_partial_german # set by gerimperialism.304
	has_country_flag = {
	flag = GER_741_integration
	value > 6
	}
	}

	cost = 50

	fire_only_once = yes

	complete_effect = {
	country_event = gerimperialism.305 # flavor
	}

	remove_effect = {
	hidden_effect = {
	modify_country_flag = {
	flag = GER_741_integration
	value = 3
	}
	}
	country_event = gerimperialism.306
	}

	days_remove = 56 # eight weeks
	}


	attract_settlers_741 = { # attract German and Luxemburgian settlers, i.e. workers

	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = GER_741_elite_settled
	has_country_flag = LUX_741_elite_settled
	}

	cost = 50

	fire_only_once = yes

	complete_effect = {
	country_event = gerimperialism.307 # more flavor
	}

	remove_effect = {
	hidden_effect = {
	modify_country_flag = {
	flag = GER_741_integration
	value = 3
	}
	}
	country_event = gerimperialism.308 # increased Germanisation
	741 = { add_manpower = 500 } # more or less symbolic
	}

	days_remove = 365 # yes, that's a year

	modifier = {
	MONTHLY_POPULATION = -0.001 # test this
	}
	}


	partial_LUX_admin_741 = { # let Charlotte partially inherit the occuational admin

	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = LUX_741_elite_settled
	}

	cost = 10

	fire_only_once = yes

	complete_effect = {
	country_event = gerimperialism.309 # flavor, LUX officials
	}

	remove_effect = {
	hidden_effect = {
	modify_country_flag = {
	flag = GER_741_integration
	value = 1
	}
	}
	country_event = gerimperialism.310 # LUX admins settled
	}

	days_remove = 28 # four weeks
	}


	final_integration_741 = {

	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = GER_741_final_integration
	}

	cost = 25

	fire_only_once = yes

	complete_effect = {
	country_event = gerimperialism.313 # finalising integration
	}

	remove_effect = {
	country_event = gerimperialism.314 # Core on 741, also rename it
	}

	days_remove = 28 # four weeks
	}


	remove_core_BEL_741 = { # remove BEL's core

	visible = {
	owns_state = 741
	owns_state = 8
	has_country_flag = BEL_741_timeout
	}

	fire_only_once = yes

	remove_effect = {
	741 = {
	remove_core_of = BEL
	add_claim_by = BEL
	}
	BEL = { country_event = gerimperialism.315 } # sad Adalbert
	}

	days_remove = 365 # a year

	modifier = {
	political_power_gain = -0.1
	}
	}

	### todo: add something like additional investment (aka industrialization or something)
}


### german_subject_cat

german_subject_cat = {

	request_infantry_equip_ger = { # Subject requests inf equipment from GER

	visible = {
	NOT = { is_ai = yes } # since I still have to figure out AI, all equipment requests are player-only, for now
	has_equipment = {
	infantry_equipment_0 < 500
	}
	}

	cost = 10

	days_re_enable = 7 # arbitrary

	complete_effect = {
	GER = { country_event = gerimperialism.1 }
	}
	}


	request_support_equip_ger = { # Subject requests support equipment from GER

	visible = {
	has_tech = tech_support
	NOT = { is_ai = yes } # see above
	has_equipment = {
	support_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7 # arbitrary

	complete_effect = {
	GER = { country_event = gerimperialism.2 }
	}
	}

	request_artillery_ger = { # Subject requests artillery from GER

	visible = {
	has_tech = gw_artillery
	NOT = { is_ai = yes } # see above
	has_equipment = {
	artillery_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7 # arbitrary

	complete_effect = {
	GER = { country_event = gerimperialism.3 }
	}
	}

	request_anti_tank_ger = {

	visible = {
	has_tech = interwar_antitank
	NOT = { is_ai = yes } # see above
	has_equipment = {
	anti_tank_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7

	complete_effect = {
	GER = { country_event = gerimperialism.4 }
	}
	}

	request_anti_air_ger = {

	visible = {
	has_tech = interwar_antiair
	NOT = { is_ai = yes } # see above
	has_equipment = {
	anti_air_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7

	complete_effect = {
	GER = { country_event = gerimperialism.5 }
	}
	}
}
