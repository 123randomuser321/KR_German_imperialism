### Decisions for 'Kaiserreich SubMod - German Imperialism'
### by MEEEB
### v1 rev2
### removed initial german_imperialism decisions
### added requests for subjects (inf; support; normal, anti-air and anti-tank artillery)
### for now, only for non-AI
### started implementing industrial recovery

### the equipment ratios are subject to change

### german_imperialism

german_imperialism = {
	
	GER_establish_military_assistance = { # unlocks decisions for military support re subjects
	
	visible = {
	has_equipment = {
	infantry_equipment_0 > 1000
	}
	}
	
	cost = 100 # subject to change

	fire_only_once = yes
	days_remove = 28 # arbitrary number, may change

	remove_effect = {
	set_global_flag = GER_military_aid_program # note to self: GEA, MAF and AOG should not be eligible, since they are technically part of the German state/economy, so they will be handled in another way
	}
	}


	GER_hijack_industrial_recovery = {

	visible = {
	has_global_flag = black_monday
	OR = {
	has_idea = GER_black_monday
	has_idea = GER_black_monday1
	has_idea = GER_black_monday2
	}
	}

	cost = 50 # I will get back to this

	fire_only_once = yes

	complete_effect = {
	set_country_flag = GER_industrial_rec_plan
	}
	}


#	GER_establish_industrial_assistance = {
#
#	visible = {
#	has_global_flag = black_monday
#	NOT = {
#	has_idea = GER_black_monday
#	has_idea = GER_black_monday1
#	has_idea = GER_black_monday2
#	}
#	}
#
#	cost = 10 # subject to change
#
#	fire_only_once = yes
#
#	complete_effect = {
#	set_global_flag = GER_industrial_support
#	}
#	}
}

### german_imperialism end


### temporary post Black Week recovery

german_industrial_rec = {
	
	ger_reassure_banks = { # tell the banks that everything is fine

	fire_only_once = yes

	days_remove = 28 # 4 weeks

	modifier = {
	stability_weekly_factor = 0.01 # needs testing
	}

	remove_effect = {
	add_political_power = 20
	}
	}

	ger_exploit_strong_subjects = {

	available = {
	has_political_power > 50 # no abusing this
	any_country = {
	limit = {
	is_subject_of = GER
	NOT = { has_country_flag = GER_strong_exploitation_finished }
	}
	ic_ratio = {
	tag = GER # check against Germany
	ratio = 0.25 # subject to testing, 25%
	}
	}
	}

	days_re_enable = 3

	days_remove = 14 # 2 weeks

	modifier = {
	every_country = {
	limit = {
	is_subject_of = GER
	has_country_flag = strongly_exploited_by_GER
	}
	consumer_goods_factor = 0.1
	production_factory_max_efficiency_factor = -0.1 # these comparisons are hard to make
	}
	GER = {
	consumer_goods_factor = -0.05
	production_factory_max_efficiency_factor = 0.05
	}
	}

	cost = 50

	complete_effect = {
	random_country = {
	limit = {
	is_subject_of = GER
	ic_ratio = {
	tag = GER # see above
	ratio = 0.25
	}
	}
	set_country_flag = strongly_exploited_by_GER
	country_event = gerimperialism.7
	}
	}

	remove_effect = {
	every_country = {
	limit = {
	has_country_flag = strongly_exploited_by_GER
	NOT = { has_country_flag = GER_strong_exploitation_finished }
	}
	set_country_flag = GER_strong_exploitation_finished
	country_event = gerimperialism.8 # Notification regarding normalcy
	}
	}
	}
}


### german_subject_cat

german_subject_cat = {

	request_infantry_equip_ger = { # Subject requests inf equipment from GER

	available = {
	NOT = { is_ai = yes } # since I still have to figure out AI, all equipment requests are player-only, for now
	has_equipment = {
	infantry_equipment_0 < 500
	}
	}

	cost = 10

	days_re_enable = 7 # arbitrary

	complete_effect = {
	GER = { country_event = gerimperialism.1 }
	}
	}


	request_support_equip_ger = { # Subject requests support equipment from GER

	visible = {
	has_tech = support_weapons
	}

	available = {
	NOT = { is_ai = yes } # see above
	has_equipment = {
	support_weapons < 50
	}
	}

	cost = 10

	days_re_enable = 7 # arbitrary

	complete_effect = {
	GER = { country_event = gerimperialism.2 }
	}
	}

	request_artillery_ger = { # Subject requests artillery from GER

	visible = {
	has_tech = gw_artillery
	}

	available = {
	NOT = { is_ai = yes } # see above
	has_equipment = {
	artillery_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7 # arbitrary

	complete_effect = {
	GER = { country_event = gerimperialism.3 }
	}
	}

	request_anti_tank_ger = {

	visible = {
	has_tech = interwar_antitank
	}

	available = {
	NOT = { is_ai = yes } # see above
	has_equipment = {
	anti_tank_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7

	complete_effect = {
	GER = { country_event = gerimperialism.4 }
	}
	}

	request_anti_air_ger = {

	visible = {
	has_tech = interwar_antiair
	}

	available = {
	NOT = { is_ai = yes } # see above
	has_equipment = {
	anti_air_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7

	complete_effect = {
	GER = { country_event = gerimperialism.5 }
	}
	}
}