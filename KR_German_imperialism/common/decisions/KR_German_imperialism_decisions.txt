### Decisions for 'Kaiserreich SubMod - German Imperialism'
### by MEEEB
### v1 rev3
### modified industrial recovery intro
### excluded PgmU for now
### simplified industrial exploitation alot (thank you, targeted decisions)
### modified and expanded German Wallonia issue
### WALLONIA ISSUE ONLY WORKS IF YOU ALLOW MAJOR NEWS EVENTS ###

### the equipment ratios are subject to change

### german_imperialism

german_imperialism = {
	
#	GER_establish_military_assistance = { # unlocks decisions for military support re subjects
#	
#	visible = {
#	has_equipment = {
#	infantry_equipment_0 > 1000
#	}
#	}
#	
#	cost = 100 # subject to change
#
#	fire_only_once = yes
#	days_remove = 28 # arbitrary number, may change
#
#	remove_effect = {
#	set_global_flag = GER_military_aid_program # note to self: GEA, MAF and AOG should not be eligible, since they are technically part of the German state/economy, so they will be handled in another way
#	}
#	}


	GER_hijack_industrial_recovery = {

	visible = {
	has_global_flag = black_monday
	OR = {
	has_idea = GER_black_monday
	has_idea = GER_black_monday1
	has_idea = GER_black_monday2
	}
	}

	cost = 50 # I will get back to this

	fire_only_once = yes

	days_remove = 4 # If Sarazzin can work out an economic union in four days we can too

	remove_effect = {
	set_country_flag = GER_industrial_rec_plan
	}
	}


#	GER_establish_industrial_assistance = {
#
#	visible = {
#	has_global_flag = black_monday
#	NOT = {
#	has_idea = GER_black_monday
#	has_idea = GER_black_monday1
#	has_idea = GER_black_monday2
#	}
#	}
#
#	cost = 10 # subject to change
#
#	fire_only_once = yes
#
#	complete_effect = {
#	set_global_flag = GER_industrial_support
#	}
#	}
}

### german_imperialism end


### temporary post Black Week recovery

german_industrial_rec = {
	
	ger_reassure_banks = { # tell the banks that everything is fine

	fire_only_once = yes

	days_remove = 28 # 4 weeks

	modifier = {
	stability_weekly_factor = 0.01 # needs testing
	}

	remove_effect = {
	add_political_power = 20
	}
	}


	ger_analyze_sub_economy = {

	fire_only_once = yes

	target_trigger = {
	FROM = {
	every_country = {
	limit = {
	is_subject_of = GER
	NOT = {
	tag = MAF # these are all
	tag = GEA # technically part of
	tag = AOG # the German state
	}
	}
	}
	}
	}

	cost = 5

	modifier = {
	political_power_gain = -0.25 # prone to change
	}

	days_remove = 7

	complete_effect = {
	FROM = { 
	country_event = gerimperialism.7 # probed tag gets a notification
	set_country_flag = GER_analyzed_economy # for later
	}
	}

	remove_effect = {
	FROM = { set_country_flag = GER_analyzed_economy_finished }
	}
	}

	ger_exploit_sub_civ_economy = {

	fire_only_once = yes

	target_trigger = {
	FROM = {
	every_country = {
	limit = {
	is_subject_of = GER
	NOT = {
	tag = MAF
	tag = GEA
	tag = AOG
	}
	has_country_flag = GER_analyzed_economy_finished
	}
	}
	}
	}

	days_remove = 7

	modifier = {
	FROM = {
	consumer_goods_factor = 0.15 # may use something else later
	stability_weekly_factor = -0.005
	}
	consumer_goods_factor = -0.05 # I have no exact ratio, though GER has more industrial power than most subjects
	political_power_gain = -0.05
	}

	complete_effect = {
	FROM = { country_event = gerimperialism.8 } # initial outrage
	}

	remove_effect = {
	FROM = { country_event = gerimperialism.9 } # further outrage
	}
	}
}

### industrial recovery end


### specific German subjects (sorted by tag)

### BEL

german_BEL = { decisions for GER
	
	fate_of_german_wallonia = { # what do, after WK2

	available = {
	owns_state = 741 # German Wallonia
	NOT = { has_war = yes } # do not do territorial transfers amidst war
	has_global_flag = war_is_hell # is set by the Second Weltkrieg news event I have yet to find something better
	}

	fire_only_once = yes

	complete_effect = {
	country_event = gerimperialism.300
	}
	}


	prep_integration_741 = { # prepare integration
	available = = {
	owns_state = 741
	has_country_flag = GER_kept_741 # set by gerimperialism.300
	}

	fire_only_once = yes

	days_remove = 7 # a week

	modifier = {
	political_power_gain = -0.25
	}

	remove_effect = {
	set_country_flag = GER_741_started
	}
	}


	luxemburg_claims_741 = { # Charlotte wants it

	available = {
	owns_state = 741
	has_country_flag = GER_741_started
	}

	cost = 10

	fire_only_once = yes

	complete_effect = {
	country_event = gerimperialism.302 # Luxemburg claim event
	}
	}


	luxemburg_elite_741 = { # nobles and businessmen from Luxemburg are granted land et al

	available = {
	owns_state = 741
	has_country_flag = GER_741_claims_done # from gerimperialism.303
	}

	cost = 10

	fire_only_once = yes

	remove_effect = {
	set_country_flag = 741_LUX_elite_settled
	}

	days_remove = 56 # 8 weeks

	modifier = {
	political_power_gain = -0.05
	}
	}


	german_elite_741 = { # German nobles move in (companies are already there)

	available = {
	owns_state = 741
	has_country_flag = GER_741_claims_done # from gerimperialism.303
	}

	cost = 10

	fire_only_once = yes

	remove_effect = {
	set_country_flag = 741_GER_elite_settled
	}

	days_remove = 84 # 12 weeks, longer since you are the oppressor

	modifier = {
	political_power_gain = -0.5
	}
	}

	### add a visible but unavailable decision for final integration here
}


### german_subject_cat

german_subject_cat = {

	request_infantry_equip_ger = { # Subject requests inf equipment from GER

	available = {
	NOT = { is_ai = yes } # since I still have to figure out AI, all equipment requests are player-only, for now
	has_equipment = {
	infantry_equipment_0 < 500
	}
	}

	cost = 10

	days_re_enable = 7 # arbitrary

	complete_effect = {
	GER = { country_event = gerimperialism.1 }
	}
	}


	request_support_equip_ger = { # Subject requests support equipment from GER

	visible = {
	has_tech = support_weapons
	}

	available = {
	NOT = { is_ai = yes } # see above
	has_equipment = {
	support_weapons < 50
	}
	}

	cost = 10

	days_re_enable = 7 # arbitrary

	complete_effect = {
	GER = { country_event = gerimperialism.2 }
	}
	}

	request_artillery_ger = { # Subject requests artillery from GER

	visible = {
	has_tech = gw_artillery
	}

	available = {
	NOT = { is_ai = yes } # see above
	has_equipment = {
	artillery_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7 # arbitrary

	complete_effect = {
	GER = { country_event = gerimperialism.3 }
	}
	}

	request_anti_tank_ger = {

	visible = {
	has_tech = interwar_antitank
	}

	available = {
	NOT = { is_ai = yes } # see above
	has_equipment = {
	anti_tank_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7

	complete_effect = {
	GER = { country_event = gerimperialism.4 }
	}
	}

	request_anti_air_ger = {

	visible = {
	has_tech = interwar_antiair
	}

	available = {
	NOT = { is_ai = yes } # see above
	has_equipment = {
	anti_air_equipment_1 < 50
	}
	}

	cost = 10

	days_re_enable = 7

	complete_effect = {
	GER = { country_event = gerimperialism.5 }
	}
	}
}