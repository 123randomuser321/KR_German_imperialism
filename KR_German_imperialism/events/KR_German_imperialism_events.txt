### Events for 'Kaiserreich SubMod - German Imperialism'
### by MEEEB
### v1 rev3
### reworked industrial recovery
### modified BEL event ids
### formatting


### all numbers are subject to change

### namespace
add_namespace = gerimperialism
### done


### initial equipment requests from subjects

### infantry equipment

country_event = {
	id = gerimperialism.1
	title = gerimperialism.1.t
	desc = gerimperialism.1.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.1.a
	send_equipment = {
	type = infantry_weapons # does this work?
	amount = 500
	target = FROM # should resolve to the correct subject
	}
	}

	option = {
	name = gerimperialism.1.b
	hidden_effect = {
	FROM = { country_event = gerimperialism.6 } # denied request
	}
	custom_effect_tooltip = gerimperialism.1.tb
	}
}

### support equipment

country_event = {
	id = gerimperialism.2
	title = gerimperialism.2.t
	desc = gerimperialism.2.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.2.a
	send_equipment = {
	type = support_weapons
	amount = 250
	target = FROM # see above
	}
	}

	option = {
	name = gerimperialism.2.b
	hidden_effect = {
	FROM = { country_event = gerimperialism.6 } # denied request
	}
	custom_effect_tooltip = gerimperialism.2.tb
	}
}

### artillery

country_event = {
	id = gerimperialism.3
	title = gerimperialism.3.t
	desc = gerimperialism.3.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.3.a
	send_equipment = {
	type = artillery
	amount = 250
	target = FROM # see above
	}
	}

	option = {
	name = gerimperialism.3.b
	hidden_effect = {
	FROM = { country_event = gerimperialism.6 } # denied request
	}
	custom_effect_tooltip = gerimperialism.3.tb
	}
}

### anti-tank

country_event = {
	id = gerimperialism.4
	title = gerimperialism.4.t
	desc = gerimperialism.4.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.4.a
	send_equipment = {
	type = cat_anti_tank
	amount = 250
	target = FROM # see above
	}
	}

	option = {
	name = gerimperialism.4.b
	hidden_effect = {
	FROM = { country_event = gerimperialism.6 } # denied request
	}
	custom_effect_tooltip = gerimperialism.4.tb
	}
}

### anti-air

country_event = {
	id = gerimperialism.5
	title = gerimperialism.5.t
	desc = gerimperialism.5.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.5.a
	send_equipment = {
	type = cat_anti_air
	amount = 250
	target = FROM # see above
	}
	}

	option = {
	name = gerimperialism.5.b
	hidden_effect = {
	FROM = { country_event = gerimperialism.6 } # denied request
	}
	custom_effect_tooltip = gerimperialism.5.tb
	}
}

### request denied

country_event = {
	id = gerimperialism.6
	title = gerimperialism.6.t
	desc = gerimperialism.6.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.6.a
	add_political_power = -20
	}
}

### provisional end


### German industrial recovery events

### event for targets of German probes

country_event = { # get probed
	id = gerimperialism.7
	title = gerimperialism.7.t
	desc = gerimperialism.7.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.7.a
	custom_effect_tooltip = gerimperialism.7.ta
	}
}

country_event = { # sub gets extorted
	id = gerimperialism.8
	title = gerimperialism.8.t
	desc = gerimperialism.8.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.8.a
	add_political_power = -50 # ouch
	add_stability = -0.05 # more ouch
	hidden_effect = {
	set_country_flag = GER_exploited_us
	}
	}
}

country_event = { # extortion ends
	id = gerimperialism.9
	title = gerimperialism.9.t
	desc = gerimperialism.9.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.9.a
	add_political_power = -10
	}
}

### industrial recovery end


### interactions with specific subjects

### GER and BEL

country_event = { # The Fate of German Wallonia
	id = gerimperialism.300 # I may move this later
	title = gerimperialism.300.t
	desc = gerimperialism.300.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.300.a # Do Adalbert a favor and return German Wallonia
	add_political_power = -50 # it does hurt
	hidden_effect = {
	BEL = { transfer_state = 741 } # BEL gets German Wallonia
	### add some decisions for BEL regarding Walloon seperatism and such things
	}
	custom_effect_tooltip = gerimperialism.300.ta
	}

	option = {
	name = gerimperialism.300.b # keep the province and its industry
	add_political_power = 50 # Govt happy
	BEL = { country_event = gerimperialism.301 }
	hidden_effect = { set_country_flag = GER_kept_741 }
	custom_effect_tooltip = gerimperialism.300.tb
	}
}

country_event = { # Adalbert loses the territory, final edition
	id = gerimperialism.301
	title = gerimperialism.301.t
	desc = gerimperialism.301.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.301.a # begrudgingly concede
	add_political_power = -100
	### maybe add an option for counteraction later (e.g. if Adalbert implemented reforms)
	}
}

country_event = { Grand Duchy of Luxemburg claims Deutsch-Wallonien
	id = gerimperialism.302
	title = gerimperialism.302.t
	desc = gerimperialism.302.d

	is_triggered_only = yes

	option = {
	name = gerimperialism.302.a
	hidden_effect = {
	741 = { add_claim_by = LUX }
	country_event = gerimperialism.303 # Bundesrat decides
	}
	custom_effect_tooltip = gerimperialism.302.ta
	}
}

country_event = { # Bundestag recognizes Charlotte's claim
	id = gerimperialism.303
	title = gerimperialism.303.t
	desc = gerimperialism.303.d

	is_triggered_only = yes

	mean_time_to_happen = { days = 2 }

	option = {
	name = gerimperialism.303.a
	hidden_effect = {
	741 = { add_claim_by = GER }
	set_country_flag = GER_741_claims_done # for further decisions
	}
	custom_effect_tooltip = gerimperialism.303.ta
	}
}

country_event = { # fires when GER has almost fully integrated 741
	id = gerimperialism.X
	title = gerimperialism.X.t
	desc = gerimperialism.X.d

	trigger = {
	tag = GER
	has_country_flag = {
	flag = 741_integration_level
	value = 10 # arbitrary
	}
	}

	fire_only_once = yes

	option = {
	name = gerimperialism.X.a
	hidden_effect = { set_country_flag = GER_741_final_integration }
	}
}
